<html>
<body style="background-color: #ffffc2">
</body>
</html>
<style>
.nolink {
  text-decoration: none;
  color: darkblue;
}
.uplink {
  text-decoration: none;
  color: darkblue;
  font-size: 20px;
}
</style>

<%#<h3>Solutions Show View</h3>
<p style="font-size:13px">Find me in app/views/solutions/show.html.erb</p>%>

<br></br>

<p>
  <%= link_to "Work", :stuff, class: "uplink" %> |
  <%= link_to "Articles", :articles, class: "uplink" %> |
  <%= link_to "Engineers", :engineers, class: "uplink" %>
</p>


<%# link_to "Back", :back %>

<p style="font-size:16px">
  <%= link_to "Cases", :cases, class: "nolink" %> |
  <%= link_to "Solutions", :solutions, class: "nolink" %> |
  <%= link_to "Bugs", :bugs, class: "nolink" %>
</p>

<h2>Solutions</h2>

<p style="font-size:14px">
  <%= link_to "Comment", new_solution_comment_path(@solutions), class: "nolink" %> |
  <%= link_to "Edit", edit_solution_path(@solutions), class: "nolink" %> | 
  <%# link_to "Comment", (render :partial => 'comments/form', :locals => {:generic => @solutions}) %>
  <%# link_to "Comment", (render :partial => 'new_comment_path', :locals => {:generic => @solutions}) %>
  <%# link_to "Comment", (render :partial => 'comments/form') %>
  <%# link_to "Comment", render 'comments/form' :generic: @solutions %>
  <%= link_to "Tag Engineer", new_solution_coverage_path(solution_id: @solutions.id), class: "nolink" %> |
  <%= link_to "Remove", solution_path(@solutions), data:{
                  turbo_method: :delete,
                  turbo_confirm: "Are you sure you want to delete bug #{@solutions.title}?"
                  }, class: "nolink" %>
</p>

<div style="border: solid darkblue; width:90%; background: lightcyan">
  <ul>
    <p>Solution Details:</p>
    <div style="border: solid darkblue; width:80%; background: lightblue; padding-left: 22px">
    <p>Id: <%= @solutions.id %></p>
    <p>Title: <%= @solutions.title %></p>
    <p>Number: <%= @solutions.number %></p>
    <p>Importance: <%= @solutions.importance %></p>
    <p>Notes:</p>
    <div style="overflow: scroll; border: solid darkblue; background: lightcyan; width: 80%">
      <p><%= @solutions.notes %></p>
    </div>
    <p>Created: <%= @solutions.created_at %></p>
    <p>Updated: <%= @solutions.updated_at %></p>
    <p>Status: <%= @solutions.status %></p>
    <br>
    <p>Comments: <%= render @solutions.comments %>
    </div>
    <p>Satellite Tag:</p>
      <% if @solutions.satellite_tag %>
        <p style="font-size: 13px">
          <%= link_to "Edit", edit_satellite_tag_path(satellite_taggable_id: @solutions.id, satellite_tag: @solutions.satellite_tag, satellite_taggable_type: 'Solution'), class: "nolink" %>
          <%= link_to "Remove", satellite_tag_path(@solutions.satellite_tag), data:{
                   turbo_method: :delete,
                   turbo_confirm: "Are you sure you want to delete?"
                }, class: "nolink" %>
        </p>
        <p>
          <%= render @solutions.satellite_tag %>
        </p>
      <% elsif %>
        <p style="font-size: 13px">
          <%= link_to "New", new_satellite_tag_path(generic_id: @solutions.id, taggable_type: 'Solution'), class: "nolink" %>
        </p>
      <% end %>
      <br>
      <p>Provision Tag:</p>
        <% if @solutions.provision_tag %>
          <p style="font-size: 13px">
            <%= link_to "Edit", edit_provision_tag_path(provision_taggable_id: @solutions.id, provision_tag: @solutions.provision_tag, provision_taggable_type: 'Solution'), class: "nolink" %>
            <%= link_to "Remove", provision_tag_path(@solutions.provision_tag), data:{
                   turbo_method: :delete,
                   turbo_confirm: "Are you sure you want to delete?"
                }, class: "nolink" %>
          </p>
          <p>
            <%= render @solutions.provision_tag %>
          </p>
        <% elsif %>
          <p style="font-size: 13px">
            <%= link_to "New", new_provision_tag_path(generic_id: @solutions.id, taggable_type: 'Solution'), class: "nolink" %>
          </p>
        <% end %>
        <br>
        <p>Network Tag:</p>
        <% if @solutions.network_tag %>
          <p style="font-size: 13px">
            <%= link_to "Edit", edit_network_tag_path(network_taggable_id: @solutions.id, network_tag: @solutions.network_tag, network_taggable_type: 'Solution'), class: "nolink" %>
            <%= link_to "Remove", network_tag_path(@solutions.network_tag), data:{
                   turbo_method: :delete,
                   turbo_confirm: "Are you sure you want to delete?"
                }, class: "nolink" %>
          </p>
          <p>
            <%= render @solutions.network_tag %>
          </p>
        <% elsif %>
          <p style="font-size: 13px">
            <%= link_to "New", new_network_tag_path(generic_id: @solutions.id, taggable_type: 'Solution'), class: "nolink" %>
          </p> 
        <% end %>
        <br>
    <p>Tagged Engineers:</p>
    <% if @solutions.engineers.all.length > 0 %>

    <div style="border: solid darkblue; background-color: lightblue; width: 30%; min-height: 2px; padding-left: 22px">
    <% @solutions.engineers.each do |engineer| %>
      <p>
        <%= engineer.first_name %>
        <%= engineer.last_name %>
        <%= link_to "Remove", solution_coverage_path(SolutionCoverage.find_by_solution_id_and_engineer_id(params[:id],engineer.id)), data: {
                                                                        turbo_method: :delete,
                                                                        turbo_confirm: "Are you sure?"
                                                                        }, :style => 'font-size: 12px', class: "nolink" %></p>
    <% end %>
  </div>
  <% end %>
  </ul>
</div>
